<header class="card" role="banner">
  <div class="container flex" style="justify-content:space-between;align-items:center;">
    <div class="logo">
      <a routerLink="/" aria-label="Inicio" class="logo-link" style="display:flex;align-items:center;gap:0.6rem;text-decoration:none;">
        <img src="Logo Juan.png" alt="Logo Juan Pablo" style="width:44px;height:44px;object-fit:cover;border-radius:8px;flex-shrink:0;"/>
        <span style="font-weight:700;color:var(--text-color);">Juan Pablo Rodr√≠guez</span>
      </a>
    </div>
    <!-- Activaci√≥n o desactivaci√≥n de depuraci√≥n de desarrollo (oculta por defecto). Activa o desactiva la visibilidad con Ctrl+D. -->
    <button *ngIf="devToggleVisible" class="dev-debug-btn" (click)="toggleDebug()" title="Toggle debug outlines">üêû</button>
    <nav>
      <div class="nav-desktop">
        <ul class="flex" style="list-style:none;margin:0;padding:0;align-items:center">
          <li><a routerLink="/#about" (click)="closeMobileMenu()">Sobre m√≠</a></li>
          <li><a routerLink="/#projects" (click)="closeMobileMenu()">Proyectos</a></li>
          <li><a routerLink="/#contact" (click)="closeMobileMenu()">Contacto</a></li>
          <li><a href="Hoja_de_vida_Juan_Pablo_Rodriguez.pdf" download class="card" style="padding:0.4rem 0.8rem;">Descargar CV</a></li>

          <!-- Selector de idioma-->
           <!--<li>
            <div style="display:flex;gap:0.35rem;align-items:center">
              <button (click)="setLanguage('es')" [class.active]="currentLanguage==='es'" class="theme-toggle-btn" aria-label="Cambiar a Espa√±ol">ES</button>
              <button (click)="setLanguage('en')" [class.active]="currentLanguage==='en'" class="theme-toggle-btn" aria-label="Change to English">EN</button>
            </div>
          </li> -->

          <!-- Cambiar tema -->
          <li>
            <button (click)="toggleTheme()" class="theme-toggle-btn" aria-label="Cambiar tema">
              <span *ngIf="isDark">üåô</span>
              <span *ngIf="!isDark">‚òÄÔ∏è</span>
            </button>
          </li>
        </ul>
      </div>
      <!-- Bot√≥n de men√∫ m√≥vil - solo visible en m√≥vil -->
      <button class="mobile-menu-btn" (click)="toggleMobileMenu()" aria-label="Abrir men√∫" [attr.aria-expanded]="mobileMenuOpen" [attr.aria-controls]="'mobile-menu'">
        ‚ò∞
      </button>
    </nav>

    <!-- Panel y men√∫ superpuesto para dispositivos m√≥viles: solo visible en dispositivos m√≥viles -->
    <div #mobileBackdropRef class="mobile-menu-backdrop" *ngIf="mobileMenuOpen" (click)="closeMobileMenu()" role="presentation"></div>
    <nav #mobileMenuRef class="mobile-menu" *ngIf="mobileMenuOpen" id="mobile-menu" role="navigation" aria-label="Men√∫ m√≥vil">
      <!-- Enlace de cierre en el encabezado del men√∫ -->
      <button class="mobile-menu-close" (click)="closeMobileMenu()" aria-label="Cerrar men√∫">‚úï</button>
      
      <!-- Lista de navegaci√≥n principal -->
      <ul class="mobile-nav-list">
        <li class="mobile-nav-item">
          <a routerLink="/#about" class="mobile-nav-link" (click)="closeMobileMenu()">Sobre m√≠</a>
        </li>
        <li class="mobile-nav-item">
          <a routerLink="/#projects" class="mobile-nav-link" (click)="closeMobileMenu()">Proyectos</a>
        </li>
        <li class="mobile-nav-item">
          <a routerLink="/#contact" class="mobile-nav-link" (click)="closeMobileMenu()">Contacto</a>
        </li>
        <li class="mobile-nav-item">
          <a href="Hoja_de_vida_Juan_Pablo_Rodriguez.pdf" download class="mobile-nav-link" (click)="closeMobileMenu()">Descargar CV</a>
        </li>
      </ul>

      <!-- Divisor visual -->
      <hr class="mobile-menu-divider">

      <!-- Secci√≥n de controles (idioma y tema) -->
      <div class="mobile-menu-controls">
        <!-- Selector de idioma -->
        <div class="control-group">
          <span class="control-label">Idioma:</span>
          <div class="language-buttons">
            <button (click)="setLanguage('es'); closeMobileMenu()" [class.active]="currentLanguage==='es'" class="theme-toggle-btn" aria-label="Cambiar a Espa√±ol">ES</button>
            <button (click)="setLanguage('en'); closeMobileMenu()" [class.active]="currentLanguage==='en'" class="theme-toggle-btn" aria-label="Change to English">EN</button>
          </div>
        </div>

        <!-- Cambiar de tema -->
        <div class="control-group">
          <span class="control-label">Tema:</span>
          <button (click)="toggleTheme(); closeMobileMenu()" class="theme-toggle-btn" aria-label="Cambiar tema">
            <span *ngIf="isDark">üåô</span>
            <span *ngIf="!isDark">‚òÄÔ∏è</span>
          </button>
        </div>
      </div>
    </nav>
  </div>
</header>
